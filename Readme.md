# ECE-564 Vapor Server

## **Models**


### **UserAuth:**

This is how the UserAuth Model is defined in the code. The UserAuth entries have a unique constraint on the username field.
```
enum UserType{
    case Professor
    case TA        # TA = Teaching Assistant
    case Student
}



final class UserAuth: Model, Content{
    var id: UUID?
    var username: String
    var password: String?
    var userType: UserType
}

```
### Routes:

All the following routes require a basicAuthorization HTTP header, where a valid username and password entry is required. 

+ `GET` /user:

    Returns a list of UserAuth entries, `[UserAuth]`.
    This entry allows an authorized TA/Professor to access entries depending on the following rules:

    * Professors have access to all entries
    * TAs can access all students' entries along with their own
    * Students don't have access to this route

+ `POST` /user/create:

    Since it is a route based on the POST HTTP Method, it requires JSON data conforming to the model as shown above. An example JSON query would be: 
    ```
        {
            "username": "IAmATestUser",
            "password": "Yayy",
            "userType": "TA"
        }
    ```
    or you could just skip the password field and query something like:
    ```
        {
            "username": "AnotherTestUser",
            "userType": "Professor" 
        }
    ```
    In this case, the password will be generated by the code. 
    This route allows a Professor/TA to create new UserAuth entries. This route follows these rules: 
    * Professors can create/update any and all entries.
    * TAs can only create new students' entries.
    * Students don't have access to this route

+ `PATCH` /user:

    This route is used to update UserAuth password and their UserType. Since it is the `PATCH` method, it requires JSON data in the request. Matching is done based on the username. Following rules are obeyed: 
    * Professors can update theri